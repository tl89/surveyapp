<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--#config errmsg="" --><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160; * Using an external web server</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Configuring and Administering ColdFusion 11" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Configuring and Administering ColdFusion 11"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbf364104-7fd7.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbf364104-7fd7.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>
<!--#include virtual="/ssi/globalheader.ssi" -->
<!--#include virtual="/en_US/ssi/localheader.ssi" -->
<!--#include virtual="header.ssi" -->
    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    
    
    

    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>
<!--#include virtual="recommendations_topic.ssi" -->
<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->

      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Using an external web server</h1>
<!-- END PAGE TITLE -->

<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<!--#include virtual="contentheader.ssi" -->

          <div><p>ColdFusion uses the Tomcat web
server connector to forward requests from an external web server
to the ColdFusion runtime system.</p>
<p>When a request is made for a CFM page, the connector on the web
server opens a network connection to the Tomcat proxy service. The
ColdFusion runtime system handles the request and sends its response
back through the proxy service and connector. The web server connector
uses web-server-specific plug-in modules, as the following table
describes:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e11688"><p>Web server</p>
</th>
<th valign="top" width="NaN%" id="d16e11691"><p>Connector details</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e11688 "><p>Apache</p>
</td>
<td valign="top" width="NaN%" headers="d16e11691 "><p>The Web Server Configuration Tool adds
the following elements to the Apache httpd.conf file: </p>
<div class="para"><ul><li><p>A LoadModule directive defines the connector.</p>
</li>
<li><p>An AddHandler directive tells Apache to route requests for
ColdFusion pages through the connector. </p>
</li>
</ul>
</div>
<p>For
Apache 2.x, the connection module is mod_jk.so. </p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e11688 "><p>IIS</p>
</td>
<td valign="top" width="NaN%" headers="d16e11691 "><p>The Web Server Configuration Tool adds the
following elements at either the global level (default) or website
level:</p>
<div class="para"><ul><li><p>Creates a folder <samp class="codeph">1</samp> in <samp class="codeph">cf_root\config\wsconfig</samp>,
that contains all connector-related files. </p>
</li>
<li><p>Creates a virtual directory <samp class="codeph">Jakarta</samp> in <samp class="codeph">cf_root\config\wsconfig</samp> (in
IIS). </p>
</li>
<li><p>Adds an entry, <samp class="codeph">tomcat</samp>, under the<samp class="codeph"> ISAPI FILTERS</samp>.
This points to <samp class="codeph">cf_root\config\wsconfig\1\ isapi_redirect.dll</samp>.</p>
</li>
<li><p>Adds an entry, <samp class="codeph">tomcat</samp>, to &#160;<samp class="codeph">cf_root\config\wsconfig\1\isapi_redirect.dll</samp> with
permission <samp class="codeph">allowed</samp> under ISAPI and CGI Restrictions.
This is applicable for global sites in IIS manager.</p>
</li>
<li><p>Adds the following <samp class="codeph">isapi</samp> handlers: <samp class="codeph">cfcHandler</samp>, <samp class="codeph">cfmHandler</samp>, <samp class="codeph">cfmlHandler</samp>, <samp class="codeph">cfrHandler</samp>,
and <samp class="codeph">cfswfHandler</samp>.</p>
</li>
<li><p>For debugging issues, set the log level to <samp class="codeph">debug</samp>,
in the <samp class="codeph">isapi_redirect.properties</samp> file present in the <samp class="codeph">cf_roots\config\wsconfig\1\ </samp>directory.</p>
</li>
<li><p>To disable webserver buffer,  change the <samp class="codeph">is_buffer_enable</samp> to <samp class="codeph">false</samp> in
the <samp class="codeph">cf_root\config\wsconfig\1\isapi_redirect.properties</samp> file.
Do this if you want <samp class="codeph">cfflush</samp> to work over an IIS
connector. If your application does not use <samp class="codeph">cfflush</samp>,
set this to <samp class="codeph">true</samp>. This may increase the performance.</p>
</li>
</ul>
</div>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e11688 "><p>Sun ONE Web Server, including Netscape
Enterprise Server (NES)</p>
</td>
<td valign="top" width="NaN%" headers="d16e11691 "><p>The Web Server Configuration Tool adds the
following elements to Sun ONE Web Server configuration files:</p>
<div class="para"><ul><li><p>Creates a folder <samp class="codeph">1</samp> in the <samp class="codeph">ColdFusionZeus\config\wsconfig</samp> folder
that contains all connector-related files. </p>
</li>
<li><p>Adds the following entry in the <samp class="codeph">magnus.conf</samp> file
of Sun ONE. Change the log level to<samp class="codeph"> debug</samp> for debugging
issues.</p>
<pre>Init fn="load-modules" shlib="C:/ColdFusionZeus/config/wsconfig/2/nsapi_redirect.dll" funcs="jk_init,jk_service" 
Init fn="jk_init" worker_file="cf_root/config/wsconfig/2/workers.properties" log_level="info" log_file="cf_root/config/wsconfig/2/nsapi.log" shm_file="cf_root/config/wsconfig/2/jk_shm"</pre>
</li>
<li><p>Adds the entries for all extensions in the <samp class="codeph">obj.conf</samp> file
of Sun ONE. For example, </p>
<pre>NameTrans fn="assign-name" from="/*.cfc/*" name="jknsapi" 
NameTrans fn="assign-name" from="/*.cfc" name="jknsapi" 
NameTrans fn="assign-name" from="/*.cfml" name="jknsapi" 
&lt;Object name="jknsapi"&gt; 
Service fn="jk_service" method="*" worker="server1" 
&lt;/Object&gt;</pre>
</li>
</ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<ul class="navlinklist"></ul>
</div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator">&#160;</div>
          </div>
          
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">
<!--#include virtual="rightcolumn.ssi" -->
</td></tr></table>
      </div>

<!-- END CONTENT WRAPPER -->
<!--#include virtual="contentfooter.ssi" -->
</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--#include virtual="/en_US/ssi/productmenu.ssi" -->
<style>
#legal-notices{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>



<!--#include virtual="/en_US/ssi/localfooter.ssi" -->
<!--#include virtual="footer.ssi" -->
<!--#include virtual="/ubi/analytics/analytics_ssi.html" -->
  </body>
</html>