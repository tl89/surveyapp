<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--#config errmsg="" --><!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;ColdFusion&#160; * Enterprise Manager section</title>
    <link rel="shortcut icon" href="images/ColdFusionLinkIndicator.png" />
    <meta name="book" content="Configuring and Administering ColdFusion 11" />
    <meta name="product" content="ColdFusion" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="ColdFusion"></Attribute><Attribute name="book" value="Configuring and Administering ColdFusion 11"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSc3ff6d0ea77859461172e0811cbf3638e6-7fc2.html";
    document.cookie = "topicId=" + "WSc3ff6d0ea77859461172e0811cbf3638e6-7fc2.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>
<!--#include virtual="/ssi/globalheader.ssi" -->
<!--#include virtual="/en_US/ssi/localheader.ssi" -->
<!--#include virtual="header.ssi" -->
    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    
    
    

    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>
<!--#include virtual="recommendations_topic.ssi" -->
<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->

      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Enterprise Manager section</h1>
<!-- END PAGE TITLE -->

<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<!--#include virtual="contentheader.ssi" -->

          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSc3ff6d0ea77859461172e0811cbf3638e6-7fc1"><span class="topictitle1">Instance Manager page</span>
</a></p></li><li><p><a href="#WSc3ff6d0ea77859461172e0811cbf3638e6-7fc0"><span class="topictitle1">Cluster Manager page</span>
</a></p></li><li><p><a href="#WSe61e35da8d318518-7e03b9dc134cd84aa77-8000"><span class="topictitle1">Edit Cluster Page</span>
</a></p><ul><li><p><a href="#WS932f2e4c7c04df8f13876df1350fcc6d07-8000"><span class="topictitle2">Managing clusters</span>
</a></p></li><li><p><a href="#WS932f2e4c7c04df8f13876df1350fcc6d07-7fff"><span class="topictitle2">Adding a remote instance to a cluster</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>The
Enterprise Manager section of the Administrator lets you create
Tomcat server instances with ColdFusion already deployed, register
remote Tomcat server instances, and create clusters of Tomcat server
instances.</p>
<ul class="navlinklist"></ul>
</div>
<div id="WSc3ff6d0ea77859461172e0811cbf3638e6-7fc1" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbf3638e6-7fc1"><!-- --></a><h2 class="topictitle2">Instance Manager page</h2><div><p>The Instance Manager page lets you
view the local and remote Tomcat servers that can be accessed by
a cfusion server running.</p>
<p>From this page you can access pages that define new, local, Tomcat
servers and register existing Tomcat servers running on remote computers,
as follows:</p>
<dl><dt class="dlterm">Add New Instance</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Create a Tomcat server and automatically deploy a copy of the
current ColdFusion MX application into that server. Alternatively,
you can deploy ColdFusion MX applications packaged using the J2EE
Archives page. </dd><p class="dlseparator"></p><dt class="dlterm">Register Remote Instance</dt>
<dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">Define an existing remote Tomcat server to the Instance Manager
for adding these servers to a cluster. It is not mandatory to run the
remote Tomcat server instance when you define it to the Instance
Manager. However, it must be running before you can add it to a
cluster.<p><strong>Edit ColdFusion Server:</strong> Modify built-in web
server settings for a server instance.</p>
</dd><p class="dlseparator"></p></dl>
<div class="section"><h4 class="sectiontitle">Available servers</h4><div class="para">
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d16e6337"><p>Area</p>
</th>
<th valign="top" width="NaN%" id="d16e6340"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Actions</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Lets you start, stop, restart, and delete
a Tomcat server.</p>
<p>You cannot start or stop a remote instance
with the Enterprise Manager, therefore, the start and stop icons
are disabled for remote servers. Additionally, you can click the
Edit icon to display the Edit ColdFusion Server page or the ColdFusion</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Name</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Specifies the Tomcat server name. If the
server is started, you can click this name to open a browser window
to the Tomcat server's web root.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Server Directory</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Specifies the server directory.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>HTTP Port</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Specifies the port for the built-in web
server.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Remote Port</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>JNDI port for the server instance.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Host</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Specifies the host name or IP address for
the server instance.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d16e6337 "><p>Cluster</p>
</td>
<td valign="top" width="NaN%" headers="d16e6340 "><p>Cluster Specifies the name of the cluster
that contains the server.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<ul><li><p>By default, the Instance Manager
deploys a copy of the current cfusion application (data sources,
settings, administrator password, and so on).</p>
</li>
<li><p>You can optionally use the Create from EAR/WAR option to
create a server with a previously archived application.</p>
</li>
<li><p>To deploy an empty application, create one with the J2EE
archives page and use the Create from EAR/WAR option.</p>
</li>
<li><p>You cannot stop the cfusion and admin servers.</p>
</li>
</ul>
</div>
</div></div>
<div id="WSc3ff6d0ea77859461172e0811cbf3638e6-7fc0" class="nochunk"><a name="WSc3ff6d0ea77859461172e0811cbf3638e6-7fc0"><!-- --></a><h2 class="topictitle2">Cluster Manager page</h2><div><p>The Cluster Manager page in ColdFusion
Administrator lets you create and manage clusters of Tomcat servers,
each containing the same ColdFusion application. </p>
<div class="para"><ol><li><p>Add a cluster by typing a name in the Cluster Name
box, and clicking Add. This creates a cluster and adds it to the
Configured Clusters table.</p>
</li>
<li><p>Add servers to the cluster by clicking the Edit icon next
to the cluster name in the Configured Clusters table. This displays
the Edit Cluster Page.</p>
</li>
</ol>
</div>
</div></div>
<div id="WSe61e35da8d318518-7e03b9dc134cd84aa77-8000" class="nochunk"><a name="WSe61e35da8d318518-7e03b9dc134cd84aa77-8000"><!-- --></a><h2 class="topictitle2">Edit Cluster Page</h2><div><p>The Edit Cluster page in ColdFusion Administrator lets
you define the server instances for a cluster and to customize cluster
settings.</p>
</div><div id="WS932f2e4c7c04df8f13876df1350fcc6d07-8000" class="nochunk"><a name="WS932f2e4c7c04df8f13876df1350fcc6d07-8000"><!-- --></a><h3 class="topictitle3">Managing clusters</h3><div><p>Manage clusters using the ColdFusion Administrator.</p>
<ol><li><p>In the ColdFusion Administrator, click Enterprise Manager
&gt; Cluster Manager.</p>
</li>
<li><p>Enter a cluster name and then click Add.</p>
</li>
<li><p>Click the cluster name and move the servers to the cluster
based on the requirement.</p>
</li>
<li><p>(If required) Edit the multicast port.</p>
<p>Multicast port
is used to group the cluster members together. Default value of multicast
port is 45564. After you create a cluster, the port is added in
the <samp class="codeph"><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">cf_install_dir</i>\cfusion\config\cluster.xml</samp> file. </p>
<p>For
more information on multicast port, see <a href="http://tomcat.apache.org/tomcat-6.0-doc/config/cluster-membership.html" target="_self">http://tomcat.apache.org/tomcat-6.0-doc/config/cluster-membership.html</a>.</p>
</li>
<li><p>Specify if you need sticky session.</p>
<p>Sticky session
ensures that after a session is established on an instance, all future
requests from the client are mapped to that instance. </p>
</li>
<li><p>Click Submit.</p>
</li>
</ol>
</div></div><div id="WS932f2e4c7c04df8f13876df1350fcc6d07-7fff" class="nochunk"><a name="WS932f2e4c7c04df8f13876df1350fcc6d07-7fff"><!-- --></a><h3 class="topictitle3">Adding a remote instance to a cluster</h3><div><div class="para">To add a remote instance to a cluster, add the cluster
block to the remote instance’s <samp class="codeph">server.xml</samp>. Then,
register the remote instance and add the instance to the cluster.
For more information on configuring clusters on Tomcat, see <a href="http://tomcat.apache.org/tomcat-5.5-doc/cluster-howto.html" target="_self">http://tomcat.apache.org/tomcat-5.5-doc/cluster-howto.html</a>.<ol><li><p>Register the remote instance to the local machine.</p>
</li>
<li><p>Create a cluster in the local machine.</p>
</li>
<li><p>Open the <samp class="codeph">cf_install_dir\<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">instance-name\</i>runtime\conf\server.xml</samp> file
of the remote instance.</p>
</li>
<li><p>Add the following block between the entries <samp class="codeph">&lt;/host&gt; </samp>and <samp class="codeph">&lt;/engine&gt;</samp>:</p>
<div class="para"><pre> 
&lt;Cluster className="org.apache.catalina.ha.tcp.SimpleTcpCluster"         channelSendOptions="8"&gt; 
    &lt;Manager notifyListenersOnReplication="true" expireSessionsOnShutdown="false" className="org.apache.catalina.ha.session.DeltaManager"&gt; 
    &lt;/Manager&gt; 
    &lt;Channel className="org.apache.catalina.tribes.group.GroupChannel"&gt; 
        &lt;Membership port="<i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">45565</i>" dropTime="3000" address="228.0.0.4"     className="org.apache.catalina.tribes.membership.McastService" frequency="500"&gt; 
        &lt;/Membership&gt; 
        &lt;Receiver port="4003" autoBind="100" address="auto" selectorTimeout="5000"     maxThreads="6" className="org.apache.catalina.tribes.transport.nio.NioReceiver"&gt; 
        &lt;/Receiver&gt; 
        &lt;Sender className="org.apache.catalina.tribes.transport.ReplicationTransmitter"&gt; 
            &lt;Transport className="org.apache.catalina.tribes.transport.nio.PooledParallelSender"&gt; 
            &lt;/Transport&gt; 
        &lt;/Sender&gt; 
        &lt;Interceptor className="org.apache.catalina.tribes.group.interceptors.TcpFailureDetector"&gt; 
        &lt;/Interceptor&gt; 
        &lt;Interceptor     className="org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor"&gt; 
        &lt;/Interceptor&gt; 
    &lt;/Channel&gt; 
    &lt;Valve className="org.apache.catalina.ha.tcp.ReplicationValve" filter=""&gt; 
    &lt;/Valve&gt; 
    &lt;Valve className="org.apache.catalina.ha.session.JvmRouteBinderValve"&gt; 
    &lt;/Valve&gt; 
 
    &lt;ClusterListener     className="org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener"&gt; 
    &lt;/ClusterListener&gt; 
    &lt;ClusterListener className="org.apache.catalina.ha.session.ClusterSessionListener"&gt; 
    &lt;/ClusterListener&gt; 
 
&lt;/Cluster&gt; </pre>
</div>
</li>
<li><p>In the entry, update the membership port with the multicast
port of the cluster.</p>
</li>
<li><div class="para">Using the ColdFusion Administrator of the local host, add
the local instance and the remote instance to the cluster.<div class="note"><span class="notetitle">Note:  </span>If
you enable sticky session, the JVM route of the remote instance
and local instance must not be the same.</div>
</div>
</li>
<li><p>Restart all the instances.</p>
</li>
</ol>
</div>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">
<!--#include virtual="rightcolumn.ssi" -->
</td></tr></table>
      </div>

<!-- END CONTENT WRAPPER -->
<!--#include virtual="contentfooter.ssi" -->
</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--#include virtual="/en_US/ssi/productmenu.ssi" -->
<style>
#legal-notices{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>



<!--#include virtual="/en_US/ssi/localfooter.ssi" -->
<!--#include virtual="footer.ssi" -->
<!--#include virtual="/ubi/analytics/analytics_ssi.html" -->
  </body>
</html>